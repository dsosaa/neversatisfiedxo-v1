[uwsgi]
# Django application
module = cms.wsgi:application
pythonpath = /home/mediacms.io/mediacms
chdir = /home/mediacms.io/mediacms

# Socket configuration
socket = 127.0.0.1:9000
protocol = uwsgi

# Process configuration
master = true
processes = 2
threads = 2
max-requests = 1000
harakiri = 60
harakiri-verbose = true

# Memory management
reload-on-as = 512
reload-on-rss = 512
limit-as = 1024

# Logging
logto = /home/mediacms.io/mediacms/logs/uwsgi.log
log-4xx = true
log-5xx = true

# Performance optimizations
enable-threads = true
single-interpreter = true
lazy-apps = true
vacuum = true
die-on-term = true
need-app = true

# Buffer settings
buffer-size = 32768
post-buffering = 8192

# Security
uid = www-data
gid = www-data
umask = 022

# Environment variables
env = DJANGO_SETTINGS_MODULE=cms.settings
env = PYTHONPATH=/home/mediacms.io/mediacms
